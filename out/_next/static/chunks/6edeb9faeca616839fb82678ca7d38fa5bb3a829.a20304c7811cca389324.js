(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{RNiq:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),a=n("q1tI"),o=n.n(a),c=Object(a.createContext)(null),i=function(){return Object(a.useContext)(c)},s=n("o0o1"),u=n.n(s),l=n("HaE+"),f=n("T/rR"),p=n("nOHt"),d=n("Ltlg"),m=n("rePB");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return t.includes(String(e.id))?b(b({},e),{},{checked:!0}):e}))},h={setItem:function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.setItem(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getItem:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=n("F3lO"),_=n("obyI"),j=n("YFqc"),k=n.n(j),O=function(e,t,n){if(t.match(_.a.typeVideos.movie)){var r=e.moviesLibrary,a=void 0===r?[]:r,o=a.findIndex((function(e){return e===n}));-1===o?a.push(n):a.splice(o,1),e.moviesLibrary=a}else{var c=e.tvShowLibrary,i=void 0===c?[]:c,s=i.findIndex((function(e){return e===n}));-1===s?i.push(n):i.splice(s,1),e.tvShowLibrary=i}return e},x=n("lSuN"),w=n.n(x),E=function(e){var t=i().userSearchString,n=function(){var t=Object(l.a)(u.a.mark((function t(n){var r,a,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.name,t.next=3,h.getItem(_.a.keyLocalStorage);case 3:return a=t.sent,o=JSON.parse(a),c=O(o,e.typeVideo,r),t.next=8,h.setItem(_.a.keyLocalStorage,JSON.stringify(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(k.a,{className:w.a["section-card"],onClick:function(){t("")},href:"".concat(e.detailsUrl,"/").concat(e.id),children:Object(r.jsx)("div",{className:w.a["section-card__wrapper"],children:Object(r.jsx)("img",{className:w.a["section-card__img"],src:e.imageLink?e.imageLink:"",alt:e.title})})}),Object(r.jsxs)("span",{className:w.a.bookmark,children:[Object(r.jsx)("input",{type:"checkbox",className:w.a["bookmark-input"],name:e.id,id:e.id,defaultChecked:e.checked,onClick:n}),Object(r.jsx)("label",{htmlFor:e.id,className:w.a["bookmark-star"]})]})]})},L=Object(a.memo)(E);n("17x9");function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var N=function(e){function t(){return P(this,t),C(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.children;return o.a.createElement("a",{href:"",onClick:function(e){e.preventDefault(),t()}},n)},t}(o.a.Component);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var q=function(e){function t(){return S(this,t),I(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.pageCount>10?10:this.props.pageCount,t=this.props,n=t.pageCount,r=t.currentPage,a=t.onPageClick,c=t.pageLinkClassName,i=t.currentLinkClassName;return o.a.createElement("div",null,R(e,n,r,a,c,i))},t}(o.a.Component),R=function(e,t,n,r,a,o){var c=[U(r,a)],i=F(n)?T(n,r,a):[],s=V(n)?K(n,r,a):[],u=D(n,r,a),l=H(n,r,a,o),f=Q(n,t,r,a),p=M(n,t)?J(n,t,r,a):[],d=Y(t,r,a),m=c.concat(s).concat(i).concat(u).concat(l).concat(f).concat(p);if(B(n,t)){var v=z(n,r,a);return m.concat(v).concat(d)}return m.concat(d)},U=function(e,t){return o.a.createElement("div",{key:"page-link-first",className:t},o.a.createElement(N,{onClick:function(){e(0)}},"first"))},F=function(e){return e>=10},M=function(e,t){return t>e+(10-A(e))},T=function(e,t,n){var r=A(e);return o.a.createElement("div",{key:"page-link-previous-series",className:n},o.a.createElement(N,{onClick:function(){t(e-r-1)}},"..."))},J=function(e,t,n,r){var a=A(e);return o.a.createElement("div",{key:"page-link-next-series",className:r},o.a.createElement(N,{onClick:function(){n(e+(10-a))}},"..."))},V=function(e){return 0!==e},K=function(e,t,n){return[o.a.createElement("div",{key:"page-link-previous",className:n},o.a.createElement(N,{onClick:function(){t(e-1)}},"previous"))]},D=function(e,t,n){for(var r=A(e),a=[],c=function(e){a.push(o.a.createElement("div",{key:"page-link-before-"+e,className:n},o.a.createElement(N,{onClick:function(){t(e)}},e+1)))},i=e-r;i<e;i++)c(i);return a},H=function(e,t,n,r){return o.a.createElement("div",{key:"page-link-current",className:n+" "+r},o.a.createElement(N,{onClick:function(){t(e)}},e+1))},Q=function(e,t,n,r){for(var a=A(e),c=[],i=function(e){c.push(o.a.createElement("div",{key:"page-link-after-"+e,className:r},o.a.createElement(N,{onClick:function(){n(e)}},e+1)))},s=e+1;s<e+(10-a)&&s<t;s++)i(s);return c},B=function(e,t){return e+1!==t},z=function(e,t,n){return o.a.createElement("div",{key:"page-link-next",className:n},o.a.createElement(N,{onClick:function(){t(e+1)}},"next"))},Y=function(e,t,n){return o.a.createElement("div",{key:"page-link-last",className:n},o.a.createElement(N,{onClick:function(){t(e-1)}},"last"))},A=function(e){return e%10},W=q,G=n("tJqc"),X=n.n(G),Z=function(e){var t=Object(p.useRouter)(),n=i().setRunPush;return Object(r.jsx)(a.Fragment,{children:Object(r.jsx)("div",{className:X.a["section-list"],children:Object(r.jsxs)("div",{className:X.a["section-list__container"],children:[e.data.length?e.data.map((function(t){return Object(r.jsx)("div",{className:X.a["section-list__item"],children:Object(r.jsx)(L,{id:t.id,title:t.name?t.name:t.title,imageLink:"".concat(_.a.baseImgUrl).concat(t.poster_path),detailsUrl:e.detailsUrl,typeVideo:e.typeVideo,checked:null===t||void 0===t?void 0:t.checked},t.id)},t.id)})):Object(r.jsx)("div",{className:X.a["section-list__no-content"],children:Object(r.jsx)("h2",{children:_.a.noContent})}),e.data.length?Object(r.jsx)("div",{className:X.a["section-list__pagination"],children:Object(r.jsx)(W,{currentPage:e.activePage-1,pageCount:e.totalPage,pageLinkClassName:X.a.pageLink,currentLinkClassName:X.a.currentLink,onPageClick:function(r){t.push("".concat(e.paginationUrl,"/").concat(r+1)),n("".concat(e.paginationUrl,"/").concat(r+1))}})}):Object(r.jsx)(a.Fragment,{})]})})})},$=Object(a.memo)(Z),ee=n("h7Ql"),te=n.n(ee),ne=function(){var e=i(),t=e.movies,n=e.setMovies,o=e.isLoading,c=e.moviePages,s=(e.searchString,e.setIsLoading),m=e.setMoviePages,v=Object(p.useRouter)();return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,a,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),t=v.query.query?1:v.query.id,e.next=5,h.getItem(_.a.keyLocalStorage);case 5:return r=e.sent,a=JSON.parse(r),e.next=9,Object(d.a)(t,_.a.typeVideos.movie);case 9:o=e.sent,c=g(o.results,null===a||void 0===a?void 0:a.moviesLibrary),n(c),m({page:o.page,totalPage:o.total_pages}),s(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),Object(y.a)(e.t0),s(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[n,v.query.id,v.query.query,s,m]),Object(r.jsx)(a.Fragment,{children:o?Object(r.jsx)("div",{className:te.a.page,children:Object(r.jsx)(f.a,{animation:"border",variant:"secondary"})}):Object(r.jsx)("div",{className:te.a.page,children:Object(r.jsx)($,{data:t,detailsUrl:_.a.routes.movie.url,paginationUrl:_.a.routes.movie.paginationPage,activePage:c.page,totalPage:c.totalPage,typeVideo:_.a.typeVideos.movie})})})},re=Object(a.memo)(ne),ae=function(){var e=Object(a.useState)({page:0,totalPage:0}),t=e[0],n=e[1],o=Object(a.useState)(!0),i=o[0],s=o[1],u=Object(a.useState)([]),l=u[0],f=u[1],p=Object(a.useState)(""),d=p[0],m=p[1];return Object(r.jsx)(c.Provider,{value:{movies:l,runPush:d,isLoading:i,setMovies:f,setRunPush:m,moviePages:t,setIsLoading:s,setMoviePages:n},children:Object(r.jsx)(re,{})})};t.default=Object(a.memo)(ae)},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("J4zp"),a=n("284h");t.__esModule=!0,t.default=void 0;var o,c=a(n("q1tI")),i=n("elyg"),s=n("nOHt"),u=new Map,l=window.IntersectionObserver,f={};var p=function(e,t){var n=o||(l?o=new l((function(e){e.forEach((function(e){if(u.has(e.target)){var t=u.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(o.unobserve(e.target),u.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return n?(n.observe(e),u.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}u.delete(e)}):function(){}};function d(e,t,n,r){(0,i.isLocalURL)(t)&&(e.prefetch(t,n,r).catch((function(e){0})),f[t+"%"+n]=!0)}var m=function(e){var t=!1!==e.prefetch,n=c.default.useState(),a=r(n,2),o=a[0],u=a[1],m=(0,s.useRouter)(),v=m&&m.pathname||"/",b=c.default.useMemo((function(){var t=(0,i.resolveHref)(v,e.href,!0),n=r(t,2),a=n[0],o=n[1];return{href:a,as:e.as?(0,i.resolveHref)(v,e.as):o||a}}),[v,e.href,e.as]),g=b.href,h=b.as;c.default.useEffect((function(){if(t&&l&&o&&o.tagName&&(0,i.isLocalURL)(g)&&!f[g+"%"+h])return p(o,(function(){d(m,g,h)}))}),[t,o,g,h,m]);var y=e.children,_=e.replace,j=e.shallow,k=e.scroll;"string"===typeof y&&(y=c.default.createElement("a",null,y));var O=c.Children.only(y),x={ref:function(e){e&&u(e),O&&"object"===typeof O&&O.ref&&("function"===typeof O.ref?O.ref(e):"object"===typeof O.ref&&(O.ref.current=e))},onClick:function(e){O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,o,c){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,i.isLocalURL)(n))&&(e.preventDefault(),null==c&&(c=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:o}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())})))}(e,m,g,h,_,j,k)}};return t&&(x.onMouseEnter=function(e){(0,i.isLocalURL)(g)&&(O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),d(m,g,h,{priority:!0}))}),(e.passHref||"a"===O.type&&!("href"in O.props))&&(x.href=(0,i.addBasePath)((0,i.addLocale)(h,m&&m.locale,m&&m.defaultLocale))),c.default.cloneElement(O,x)};t.default=m},h7Ql:function(e,t,n){e.exports={page:"style_page__F_o0L"}},lSuN:function(e,t,n){e.exports={"section-card":"style_section-card__1tLhK","section-card__wrapper":"style_section-card__wrapper__3et4F","section-card__btn":"style_section-card__btn__3epEQ","section-card__img":"style_section-card__img__2VK4F",bookmark:"style_bookmark__1S54a","bookmark-input":"style_bookmark-input__36fai","bookmark-star":"style_bookmark-star__26adI"}},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},tJqc:function(e,t,n){e.exports={"section-list":"style_section-list__gj1Pr","section-list__container":"style_section-list__container__2xtia","section-list__item":"style_section-list__item__3Oyqf","section-list__no-content":"style_section-list__no-content__1ozml","section-list__pagination":"style_section-list__pagination__3FxM1",pageLink:"style_pageLink__TbQW5",currentLink:"style_currentLink__3vCnv"}}}]);